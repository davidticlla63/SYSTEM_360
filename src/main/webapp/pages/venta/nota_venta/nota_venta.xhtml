<?xml version="1.0" encoding="UTF-8"?>


<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:pass="http://xmlns.jcp.org/jsf/passthrough"
	template="/WEB-INF/templates/template_main.xhtml">
	
	<ui:define name="head">
		<title>Nota de Venta</title>
		<style type="">
			.ui-autocomplete-panel {
			    width: 50% !important;
			}
			@page{
				size: auto;
				margin: 0mm;
			}
			.datalist-noborder .ui-widget-content{
				border: none;
			}
			.ui-datalist-item{
				height: 15px;
			}
		</style>
	</ui:define>
	<ui:define name="content">
		<!--BEGIN CONTENT-->
		<div class="content">
			<section class="main-content"
				style="background-color: #f5f6f6; padding-top: 0px;">
				<h:form id="form001">
					<div class="row" style="background-color: #f9fafa;">
						<section class="content-header">
							<div class="pull-left"
								style="padding-top: 8px; padding-left: 15px;">
								<div class="btn-group-demo">
									<div class="btn-group">
										<p:commandLink id="buttonAtras" value="&#160; Atrás"
											styleClass="btn btn-warning ion-minus-circled"
											rendered="#{ ! notaVentaController.verReporte}"
											style="height:31px; padding:center"
											onclick="window.location='#{facesContext.externalContext.requestContextPath}/pages/venta/nota_venta/index.xhtml';">
										</p:commandLink>
										<p:commandLink id="buttonCancelar" value="&#160; Atras"
											styleClass="btn btn-warning ion-minus-circled"
											disabled="#{notaVentaController.modoVista}" immediate="true"
											rendered="#{notaVentaController.verReporte}"
											style="height:31px; padding:center" update="form001" ajax="false"
											action="#{notaVentaController.loadDefault()}">
										</p:commandLink>
										<p:commandLink id="buttonRegistrar" value="&#160; Registrar"
											styleClass="btn btn-success ion-checkmark" immediate="true"
											style="height:31px; padding:center"
											disabled="#{notaVentaController.modoVista}"
											rendered="#{(!notaVentaController.pendingQuotation) and (!notaVentaController.verReporte)}">
											<p:ajax update="form001" 
												listener="#{notaVentaController.loadPagoCliente()}" />
										</p:commandLink>
										
										<p:commandLink id="buttonConfirmar" value="&#160; Confirmar"
											styleClass="btn btn-success ion-checkmark" immediate="true"
											style="height:31px; padding:center"
											rendered="#{notaVentaController.pendingQuotation}">
											<p:ajax update="form001"
												listener="#{notaVentaController.loadModalPago()}" />
										</p:commandLink>
										<p:commandLink id="buttonRegistrar2" value="&#160; Plan Pago"
											styleClass="btn btn-primary ion-navicon-round"
											rendered="#{ !notaVentaController.verReporte and notaVentaController.notaVenta.tipoVenta.equals('CREDITO')}"
											immediate="true" 
											style="height:31px; padding:center">
											<p:ajax update="form001"
												listener="#{notaVentaController.verPlanPago()}" />
										</p:commandLink>
										<p:commandLink id="buttonImprimir" value="&#160; Imprimir"
											styleClass="btn btn-default ion-print" immediate="true"
											style="height:31px; padding:center"
											rendered="#{notaVentaController.modoVista}">
											<p:ajax update="form001"
												listener="#{notaVentaController.reimprimir()}" />
										</p:commandLink>
									</div>
								</div>
							</div>
							<div class="pull-right">
								<ol class="breadcrumb">
									<li><a href="#{request.contextPath}/pages/dashboard.xhtml"
										style="color: #0090FF; font-size: 12px;">Inicio</a></li>
									<li><a
										href="#{request.contextPath}/pages/venta/nota_venta/nota_venta.xhtml"
										style="color: #0090FF; font-size: 12px;">Venta</a></li>
									<li class="active" style="font-size: 12px;">#{notaVentaController.notaVenta.estadoPago.equals('CO')?'Cotización':'Nota de Venta'}</li>
								</ol>
							</div>
						</section>
					</div>
					<!-- BEGIN PANEL REGISTER -->
					<div class="row" style="padding-top: 10px;">
						<ui:fragment rendered="#{ ! notaVentaController.verReporte}">
							<div class="col-md-12">
								<div id="page-invoice">
									<div class="invoice">
										<div class="invoice-company">
											<div class="row">
												<div class="col-md-12">
													<div class="pull-left">
														#{notaVentaController.notaVenta.estadoPago.equals('CO')?'Cotización':'Nota de Venta'}
														<p:outputLabel rendered="#{notaVentaController.modoVista}"
															value="- Nº #{notaVentaController.notaVenta.codigo}" />
													</div>
													
												</div>
											</div>
										</div>
										<div class="invoice-header">
											<div class="row">
												<div class="col-md-4">
													<div class="form-group">
														<div class="col-md-2" style="padding-right: 0px;">
															<p:outputLabel id="labelCliente" value="Cliente" />
														</div>
														<div class="col-md-9" style="padding-right: 0px;">
															<p:autoComplete id="nombreCliente" style="width: 100%"
																converter="clienteConverter"
																disabled="#{notaVentaController.modoVista}"
																inputStyle="width: 100%; color: #555555; background-image: none; padding: 4px 10px;"
																value="#{notaVentaController.selectedCliente}"
																completeMethod="#{notaVentaController.completeCliente}"
																minQueryLength="1" required="true"
																requiredMessage="Nombre Cliente Requerido."
																forceSelection="true" var="_var"
																itemLabel="#{_var.razonSocial}"
																itemValue="#{_var}"
																placeholder="Escriba Código, Nit o Nombre"
																maxResults="10">

																<p:ajax event="itemSelect"
																	update="nombreCliente,tooltipId1,ejecutivoId"
																	listener="#{notaVentaController.onRowSelectClienteClick}" />

																<p:column>
																	<h:outputText value="#{_var.codigo}" />
																</p:column>
																<p:column>
																	<h:outputText value="#{_var.nit}" />
																</p:column>
																<p:column>
																	<h:outputText
																		value="#{_var.razonSocial}" />
																</p:column>

															</p:autoComplete>
															<p:tooltip id="tooltipId1" for="labelCliente" value="."
																rendered="true">

																<div class="panel">
																	<div class="panel-heading">
																		<h3 class="panel-title">
																			<strong class="text-uppercase text-orange">Datos
																				Cliente</strong>
																		</h3>
																	</div>
																	<div class="panel-body">
																		<div class="row">
																			<div class="col-md-12">
																				<div class="form-group ">
																					<div class="col-md-4">Código:</div>
																					<div class="col-md-8">
																						<p:outputLabel
																							value="#{notaVentaController.selectedCliente.codigo}" />
																					</div>
																				</div>
																				<div class="form-group ">
																					<div class="col-md-4">Nit:</div>
																					<div class="col-md-8">
																						<p:outputLabel
																							value="#{notaVentaController.selectedCliente.nit}" />
																					</div>
																				</div>
																				<div class="form-group ">
																					<div class="col-md-4">Razon Social:</div>
																					<div class="col-md-8">
																						<p:outputLabel
																							value="#{notaVentaController.selectedCliente.razonSocial}" />
																					</div>
																				</div>
																			</div>
																		</div>
																	</div>
																</div>

															</p:tooltip>
														</div>
														<div class="col-md-1">
															<p:commandLink value="&#160; "
																disabled="#{notaVentaController.modoVista}"
																styleClass="btn btn-default ion-plus" immediate="true"
																style="height:27px;  width: 23px; padding: 5px 4px; ">
																<p:ajax
																	listener="#{notaVentaController.actionNuevoCliente()}" />
															</p:commandLink>
														</div>
													</div>
												</div>

												<div class="col-md-2">
													<div class="form-group ">
														<div class="col-md-4">Fecha</div>
														<div class="col-md-8">
															<p:calendar id="fechaCompra" readonly="true"
																value="#{notaVentaController.notaVenta.fechaVenta}"
																locale="es" styleClass="myWid100" required="true"
																requiredMessage="Fecha requerido" pattern="dd/MM/yyyy">
																<p:ajax event="dateSelect" />
															</p:calendar>
														</div>
													</div>
												</div>
												<div class="col-md-3">
													<div class="form-group ">
														<div class="col-md-5">Tipo Cambio</div>
														<div class="col-md-7">
															<h:inputText id="tipoCambio"
																value="#{notaVentaController.notaVenta.tipoCambio}"
																style=" color: #555555; background-image: none;"
																styleClass="input-sm form-control" disabled="true">
																<p:ajax event="keyup" update="form001" />
															</h:inputText>
														</div>
													</div>
												</div>
												<div class="col-md-3">
													<div class="form-group ">
														<div class="col-md-3" style="padding-right: 0px;">Tipo
															</div>
														<div class="col-md-9" style="padding-right: 0px;">
															<p:selectOneRadio id="oneMenuTipoVenta1"
																value="#{notaVentaController.notaVenta.tipoVenta}">
																<p:ajax update="form001"
																	listener="#{notaVentaController.changeSalesType()}" />
																<f:selectItem itemLabel="&#160; CREDITO &#160;"
																	itemValue="CREDITO" />
																<f:selectItem itemLabel="&#160; CONTADO &#160;"
																	itemValue="CONTADO" />
															</p:selectOneRadio>
														</div>
													</div>
												</div>
											</div>
											<ui:fragment rendered="#{ ! notaVentaController.notaVenta.estadoPago.equals('CO')}">
												<div class="row">
													<div class="col-md-6">
														<div class="form-group">
															<div class="col-md-1">Concepto</div>
															<div class="col-md-11" style="padding-left: 29px;">
																<p:inputTextarea id="descripcionID"
																	style="padding: 0 10px;" styleClass="form-control"
																	size="40"
																	value="#{notaVentaController.notaVenta.concepto}"
																	maxlength="250" rows="2">
																	<p:ajax event="change" />
																</p:inputTextarea>
															</div>
														</div>
													</div>
													<div class="col-md-6">
														<div class="form-group">
	
															<div class="col-md-2" style="padding-left: 30px;">Moneda</div>
															<div class="col-md-4">
																<h:selectOneMenu id="roles" disabled="true"
																	styleClass="input-sm form-control"
																	style=" color: #555555; height:25px; font-size:11px;"
																	immediate="true"
																	value="#{notaVentaController.notaVenta.moneda}">
																	<p:ajax event="change" update="form001" />
																	<f:selectItem itemValue="DOLAR" itemLabel="DOLAR" />
																	<f:selectItem itemValue="BOLIVIANOS"
																		itemLabel="BOLIVIANOS" />
																</h:selectOneMenu>
															</div>
															<div class="col-md-2" style="padding-left: 30px;">Ejecutivo</div>
															<div class="col-md-4">
																<h:inputText id="ejecutivoId"
																value="#{notaVentaController.nombreEjecutivo}"
																style=" color: #555555; background-image: none;"
																styleClass="input-sm form-control" disabled="true">
															</h:inputText>
															</div>
														</div>
													</div>
												</div>
											</ui:fragment>
										</div>
										<div class="invoice-content">
											<div class="table-responsive">
												<br />
												<div class="row">
													<div class="col-md-12"
														style="padding-left: 30px; padding-right: 30px;">
														<h4 class="pbm border-bottom">

															Agregar Detalle
															<div class="pull-right">
																<p:outputLabel id="question1" value="?" />
															</div>

															<p:tooltip for="question1" value=".">

																<div class="panel">
																	<div class="panel-heading">
																		<h3 class="panel-title">
																			<strong class="text-uppercase text-orange">Ayuda</strong>
																		</h3>
																	</div>
																	<div class="panel-body">
																		<p class="mbl">Agregar los productos con su precio
																			y cantidad respectiva.</p>
																	</div>
																</div>

															</p:tooltip>
														</h4>
													</div>
													<div class="col-md-4">
														<div class="form-group">
															<div class="col-md-2" style="padding-right: 0px;">
																<p:outputLabel id="labelProducto" value="Producto" />
																<p:tooltip id="tooltipId2" for="labelProducto" value="."
																	rendered="true">
																	<div class="panel">
																		<div class="panel-heading">
																			<h3 class="panel-title">
																				<strong class="text-uppercase text-orange">Datos
																					Producto</strong>
																			</h3>
																		</div>
																		<div class="panel-body">
																			<div class="row">
																				<div class="col-md-12">
																					<div class="form-group ">
																						<div class="col-md-4">Código:</div>
																						<div class="col-md-8">
																							<p:outputLabel
																								value="#{notaVentaController.selectedProducto.codigo}" />
																						</div>
																					</div>
																					<div class="form-group ">
																						<div class="col-md-4">Nombre:</div>
																						<div class="col-md-8">
																							<p:outputLabel
																								value="#{notaVentaController.selectedProducto.nombre}" />
																						</div>
																					</div>
																					<div class="form-group ">
																						<div class="col-md-4">Descripción:</div>
																						<div class="col-md-8">
																							<p:outputLabel
																								value="#{notaVentaController.selectedProducto.descripcion}" />
																						</div>
																					</div>
																				</div>
																			</div>
																		</div>
																	</div>
																</p:tooltip>
															</div>
															<div class="col-md-10" style="padding-right: 0px;">
																<p:autoComplete id="nombreProducto" style="width: 100%"
																	converter="productoConverter"
																	disabled="#{notaVentaController.modoVista}"
																	inputStyle="width: 95%; color: #555555; background-image: none; padding: 4px 10px;"
																	value="#{notaVentaController.selectedProducto}"
																	completeMethod="#{notaVentaController.completeProducto}"
																	minQueryLength="1" required="true"
																	requiredMessage="Nombre Producto Requerido."
																	forceSelection="true" var="_var"
																	itemLabel="#{_var.nombre}#{_var.descripcion}"
																	itemValue="#{_var}"
																	placeholder="Código o Nombre Producto " maxResults="10">

																	<p:ajax event="itemSelect" update="form001"
																		listener="#{notaVentaController.onRowSelectProductoClick}" />
																	<p:column>
																		<h:outputText value="#{_var.codigo}" />
																	</p:column>
																	<p:column>
																		<h:outputText value="#{_var.nombre}" />
																	</p:column>
																	<p:column >
																		<h:outputText value="#{_var.descripcion}" />
																	</p:column>

																</p:autoComplete>
															</div>
														</div>
													</div>
													<div class="col-md-7">
														<div class="form-group">
															<div class="col-md-1" style="padding-right: 0px !important;">Precio</div>
															<div class="col-md-2">
																<h:inputText id="precioUnitarioExtranjeroID"
																	rendered="#{notaVentaController.notaVenta.tipoVenta.equals('CREDITO')}"
																	value="#{notaVentaController.selectedDetalleNotaVenta.precioExtranjero}"
																	style=" color: #555555; background-image: none; width: 80px"
																	styleClass="input-sm form-control" disabled="false">
																	<p:ajax event="change" update="importeExtranjeroID"
																		listener="#{notaVentaController.updateImporte()}" />
																</h:inputText>
																<h:inputText id="precioUnitarioExtranjeroID02"
																	rendered="#{notaVentaController.notaVenta.tipoVenta.equals('CONTADO')}"
																	value="#{notaVentaController.selectedDetalleNotaVenta.precioContadoExtranjero}"
																	style=" color: #555555; background-image: none; width: 80px"
																	styleClass="input-sm form-control" disabled="false">
																	<p:ajax event="change" update="importeExtranjeroID"
																		listener="#{notaVentaController.updateImporte()}" />
																</h:inputText>
															</div>
															<div class="col-md-2" style="padding-right: 0px !important;">
															<p:spinner id="porcentajeDesscuentoID01" stepFactor="0.1" prefix="-% " min="0" max="100"
															rendered="#{notaVentaController.notaVenta.tipoVenta.equals('CREDITO')}" disabled="true"
																value="#{notaVentaController.selectedDetalleNotaVenta.porcentajeDescuento}"
																style=" color: #555555; background-image: none; padding: 0 10px;">
																<p:ajax event="change" update="precioUnitarioExtranjeroID,importeExtranjeroID"
																	listener="#{notaVentaController.updateImporte()}" />
															</p:spinner>
																<p:spinner id="porcentajeDesscuentoID02" stepFactor="0.1" prefix="-%" min="0" max="100"
																rendered="#{notaVentaController.notaVenta.tipoVenta.equals('CONTADO')}" disabled="true"
																value="#{notaVentaController.selectedDetalleNotaVenta.porcentajeDescuento}"
																style=" color: #555555; background-image: none; padding: 0 10px;">
																<p:ajax event="change" update="precioUnitarioExtranjeroID02,importeExtranjeroID"
																	listener="#{notaVentaController.updateImporte()}" />
															</p:spinner>
															</div>
															<div class="col-md-1">Cantidad</div>
															<div class="col-md-2">
																<h:inputText id="cantidadProductoID"
																	value="#{notaVentaController.selectedDetalleNotaVenta.cantidad}"
																	style=" color: #555555; background-image: none;"
																	styleClass="input-sm form-control">
																	<p:ajax event="keyup" update="importeExtranjeroID"
																		listener="#{notaVentaController.changeCantidad()}" />
																</h:inputText>
															</div>
															<div class="col-md-2">Importe</div>
															<div class="col-md-2">
																<h:inputText id="importeExtranjeroID"
																	value="#{notaVentaController.importeParcialDetalleNotaVenta}"
																	style=" color: #555555; background-image: none;"
																	styleClass="input-sm form-control" readonly="true">
																</h:inputText>
															</div>
														</div>
													</div>
													<div class="col-md-1">
														<p:commandLink id="buttonAceptarDialog1wsdf"
															disabled="#{notaVentaController.modoVista}"
															value="+" styleClass="btn btn-success btn-block"
															immediate="true">
															<p:ajax update="form001"
																listener="#{notaVentaController.agregarDetalleNotaVenta()}" />
														</p:commandLink>
													</div>
												</div>
												<br />
												<div class="row">
													<div class="col-md-12">
														<div class="form-group ">
															<div class="col-md-12">
																<p:dataTable id="table001" var="var" rendered="true"
																	value="#{notaVentaController.listDetalleNotaVenta}"
																	emptyMessage="Agregue Detalles." reflow="true"
																	style="font-size: 12px !important; line-height: 1.33846154 !important; font-family: sans-serif !important;">
																	<f:facet name="header">
           																Detalle Productos
       																</f:facet>

																	<p:column width="10%" headerText="Código"
																		disabledSelection="true" style="text-align:center;">
																		<h:outputText value="#{var.producto.codigo}" />
																	</p:column>

																	<p:column width="35%" headerText="Producto">
																		<h:outputText
																			value="#{var.producto.nombre} #{var.producto.descripcion}" />

																	</p:column>
																	<p:column width="10%" headerText="Cantidad"
																		style="text-align:center;">
																		<h:outputText value="#{var.cantidad}" />
																	</p:column>

																	<p:column width="10%" headerText="Precio Venta"
																		style="text-align:center;">
																		<h:outputText value="#{var.precioContadoExtranjero}"
																			rendered="#{notaVentaController.notaVenta.tipoVenta.equals('CONTADO')}">
																			<f:convertNumber type="number" groupingUsed="true"
																				minFractionDigits="2" pattern="#0.00" />
																		</h:outputText>
																		<h:outputText value="#{var.precioExtranjero}"
																			rendered="#{notaVentaController.notaVenta.tipoVenta.equals('CREDITO')}">
																			<f:convertNumber type="number" groupingUsed="true"
																				minFractionDigits="2" pattern="#0.00" />
																		</h:outputText>
																		<span class="label label-success"> <p:outputLabel
																				value=" $us." />

																		</span>
																	</p:column>
																	
																	<p:column width="10%" headerText="%" style="text-align:center;">
																		<h:outputText value="#{var.porcentajeDescuento}" /> 
																	</p:column>

																	<p:column width="10%" headerText="Sub Total"
																		style="text-align:center;">
																		<h:outputText
																			rendered="#{notaVentaController.notaVenta.tipoVenta.equals('CONTADO')}"
																			value="#{(var.precioContadoExtranjero + ((var.precioContadoExtranjero*var.porcentajeDescuento)/100)) * var.cantidad}">
																			<f:convertNumber type="number" groupingUsed="true"
																				minFractionDigits="2" pattern="#0.00" />
																		</h:outputText>
																		<h:outputText
																			rendered="#{notaVentaController.notaVenta.tipoVenta.equals('CREDITO')}"
																			value="#{(var.precioExtranjero + ((var.precioExtranjero*var.porcentajeDescuento)/100)) * var.cantidad}">
																			<f:convertNumber type="number" groupingUsed="true"
																				minFractionDigits="2" pattern="#0.00" />
																		</h:outputText>
																		<span class="label label-success"> <p:outputLabel
																				value=" $us." />
																		</span>
																	</p:column>

																	<p:column width="6%" headerText="Acción"
																		style="text-align:center;">
																		<div class="row">
																			<div class="btn-group-demo">
																				<div class="btn-group">
																					<p:commandLink id="buttonEliminarDetalle"
																						disabled="#{notaVentaController.modoVista}"
																						style="padding-left: 5px; padding-right: 5px;"
																						value="&#160;" styleClass="btn ion-trash-b"
																						immediate="true"
																						actionListener="#{notaVentaController.eliminarDetalleNotaVenta(var.id)}" />
																				</div>
																			</div>
																		</div>
																	</p:column>
																</p:dataTable>
															</div>
														</div>
													</div>
												</div>
											</div>
											<br />
											<div class="invoice-price">
												<div class="invoice-price-left">
													<div class="invoice-price-row">
														<div class="sub-price">
															<div class="form-group ">
																<div class="col-md-12">
																	<ui:fragment rendered="#{notaVentaController.notaVenta.tipoVenta.equals('CREDITO')}">
																		<small>SUBTOTAL</small>
																	</ui:fragment>
																</div>
															</div>
															<ui:fragment
																rendered="#{notaVentaController.notaVenta.tipoVenta.equals('CREDITO')}">
																<div class="form-group ">
																	<div class="col-md-9">
																		<p:outputLabel value="Cuota Inicial Bs."
																			rendered="#{notaVentaController.notaVenta.moneda.equals('BOLIVIANOS')}" />
																		<p:outputLabel value="Cuota Inicial $us."
																			rendered="#{notaVentaController.notaVenta.moneda.equals('DOLAR')}" />
																	</div>
																	<div class="col-md-3">
																		<h:outputText id="montoCuotaInicialSubTotalNacional"
																			rendered="#{notaVentaController.notaVenta.moneda.equals('BOLIVIANOS')}"
																			value="#{notaVentaController.notaVenta.cuotaInicial}">
																			<f:convertNumber type="number" groupingUsed="true"
																				minFractionDigits="2" pattern="#0.00" />
																		</h:outputText>
																		
																		<h:outputText id="montoCuotaInicialSubTotalExtranjero"
																			rendered="#{notaVentaController.notaVenta.moneda.equals('DOLAR')}"
																			value="#{notaVentaController.notaVenta.cuotaInicialExtranjero}">
																			<f:convertNumber type="number" groupingUsed="true"
																				minFractionDigits="2" pattern="#0.00" />
																		</h:outputText>
																	</div>
																</div>

																<div class="form-group ">
																	<div class="col-md-9">
																		<p:outputLabel value="Plan Pago Bs."
																			rendered="#{notaVentaController.notaVenta.moneda.equals('BOLIVIANOS')}" />
																		<p:outputLabel value="Plan Pago $us."
																			rendered="#{notaVentaController.notaVenta.moneda.equals('DOLAR')}" />
																	</div>
																	<div class="col-md-3">
																		<h:outputText
																			rendered="#{notaVentaController.notaVenta.moneda.equals('BOLIVIANOS')}"
																			value="#{notaVentaController.notaVenta.montoTotal - notaVentaController.notaVenta.cuotaInicial}">
																			<f:convertNumber type="number" groupingUsed="true"
																				minFractionDigits="2" pattern="#0.00" />
																		</h:outputText>
																		<h:outputText
																			rendered="#{notaVentaController.notaVenta.moneda.equals('DOLAR')}"
																			value="#{notaVentaController.notaVenta.montoTotalExtranjero - notaVentaController.notaVenta.cuotaInicialExtranjero}">
																			<f:convertNumber type="number" groupingUsed="true"
																				minFractionDigits="2" pattern="#0.00" />
																		</h:outputText>
																	</div>
																</div>
															</ui:fragment>
															
														</div>
													</div>
												</div>
												<div class="invoice-price-right">
													<div class="form-group ">
														<div class="col-md-12">
															<small>TOTAL</small>
														</div>
													</div>
													<div class="form-group ">
														<div class="col-md-8">
															<p:outputLabel value="Venta Bs."
																rendered="#{notaVentaController.notaVenta.moneda.equals('BOLIVIANOS')}" />
															<p:outputLabel value="Venta $us."
																rendered="#{notaVentaController.notaVenta.moneda.equals('DOLAR')}" />
														</div>
														<div class="col-md-4">
															<h:outputText
																rendered="#{notaVentaController.notaVenta.moneda.equals('BOLIVIANOS')}"
																value="#{notaVentaController.notaVenta.montoTotal}">
																<f:convertNumber type="number" groupingUsed="true"
																	minFractionDigits="2" pattern="#0.00" />
															</h:outputText>
															<h:outputText
																rendered="#{notaVentaController.notaVenta.moneda.equals('DOLAR')}"
																value="#{notaVentaController.notaVenta.montoTotalExtranjero}">
																<f:convertNumber type="number" groupingUsed="true"
																	minFractionDigits="2" pattern="#0.00" />
															</h:outputText>
														</div>
													</div>
												</div>
											</div>
										</div>

										<div class="invoice-footer">
											<p class="text-center">
												<span class="mrm"><i class="fa fa-globe"></i>
													www.teds.com.bo</span>
											</p>
										</div>
									</div>
								</div>
							</div>
						</ui:fragment>
						
						<ui:fragment rendered="#{notaVentaController.verReporte}">
							<div class="col-md-12">
								<div class="panel panel-default">
									<div class="panel-heading">
										<h3 class="panel-title">VISUALIZACIÓN NOTA VENTA</h3>
									</div>
									<div class="panel-body">
										<p:tabView>
											<p:tab title="Recibo de Pago"
												rendered="false">
												<div class="row">
													<div class="col-md-12">
														<p:media player="pdf" rendered="true"
															value="#{notaVentaController.urlReciboAmortizacion}"
															width="800px" height="800px" />
													</div>
												</div>
											</p:tab>
											<p:tab title="Plan de Pago"
												rendered="#{notaVentaController.urlProformaAlCredito.length()!=0}">
												<div class="row">
													<div class="col-md-12">
														<p:media player="pdf" rendered="true"
															value="#{notaVentaController.urlProformaAlCredito}"
															width="800px" height="800px" />
													</div>
												</div>
											</p:tab>
										</p:tabView>
									</div>
								</div>
							</div>

						</ui:fragment>
					</div>
					<!-- END PANEL -->
					<p:growl id="msgs1" showDetail="true" />
				</h:form>
			</section>
		</div>
		<!--END CONTENT-->

		<!-- INIT MODAL -->
		<div id="m-r-1" tabindex="-1" role="dialog" data-keyboard="false"
			data-backdrop="static" aria-labelledby="myModalLabel"
			aria-hidden="true" class="modal fade">
			<div class="modal-dialog modal-lg">
				<div class="modal-content">
					<h:form id="formModalPlanPago">
						<div class="modal-header">
							<!-- INIT HEADER -->
							<h4 id="myModalLabel" class="modal-title">
								<strong>PLAN DE PAGO - CLIENTE</strong>
							</h4>
							<!-- END HEADER -->
						</div>
						<div class="modal-body">
							<!-- INIT BODY -->
							<div class="row">
								<div class="col-md-4">
									<div class="form-group">
										<div class="col-md-5">Forma Pago</div>
										<div class="col-md-7">
											<h:selectOneMenu id="formaPago"
												styleClass="input-sm form-control"
												style=" color: #555555; height:25px; font-size:11px;"
												value="#{notaVentaController.notaVenta.formaPago}">
												<p:ajax event="valueChange" update="formModalPlanPago"
													listener="#{notaVentaController.changeWeyToPay()}" />
												<f:selectItem itemValue="MENSUAL" itemLabel="MENSUAL" />
												<f:selectItem itemValue="QUINCENAL" itemLabel="QUINCENAL" />
												<f:selectItem itemValue="SEMANAL" itemLabel="SEMANAL" />
											</h:selectOneMenu>
										</div>
									</div>
								</div>
								<div class="col-md-4">
									<div class="form-group">
										<div class="col-md-5">Coef. Interes</div>
										<div class="col-md-7">
											<p:spinner id="coeficienteInteres" stepFactor="0.1" min="0"
												max="100"
												value="#{notaVentaController.notaVenta.coeficienteInteres}"
												style=" color: #555555; background-image: none; padding: 0 10px;">
												<p:ajax event="change" update="formModalPlanPago"
													listener="#{notaVentaController.actionReloadPlanPago()}" />
											</p:spinner>
										</div>
									</div>
								</div>
								<div class="col-md-4">
									<div class="form-group ">
										<div class="col-md-5">Nº Cuotas</div>
										<div class="col-md-7">
											<p:spinner min="1" max="144"
												value="#{notaVentaController.notaVenta.numeroCuotas}"
												disabled="#{notaVentaController.pendingQuotation}"
												style=" color: #555555; background-image: none; padding: 0 10px;">
												<p:ajax event="change" update="formModalPlanPago"
													listener="#{notaVentaController.actionReloadPlanPago()}" />
											</p:spinner>
										</div>
									</div>
								</div>
							</div>
							<hr />
							<div class="row">
								<div class="col-md-4">
									<div class="form-group ">
										<div class="col-md-5">
											<p:outputLabel value="Monto Inicial Bs."
												rendered="#{notaVentaController.notaVenta.moneda.equals('BOLIVIANOS')}" />
											<p:outputLabel value="Monto Inicial $us."
												rendered="#{notaVentaController.notaVenta.moneda.equals('DOLAR')}" />
										</div>
										<div class="col-md-7">
											<p:inputText
												rendered="#{notaVentaController.notaVenta.moneda.equals('BOLIVIANOS')}"
												value="#{notaVentaController.notaVenta.cuotaInicial}"
												style=" color: #555555; background-image: none; padding: 0 10px;"
												styleClass="input-sm form-control">
												<f:convertNumber type="number" groupingUsed="true"
													minFractionDigits="2" pattern="#0.00" />
												<p:ajax event="change" update="formModalPlanPago,form001"
													listener="#{notaVentaController.actionReloadPlanPago()}" />
											</p:inputText>
											<p:inputText
												rendered="#{notaVentaController.notaVenta.moneda.equals('DOLAR')}"
												value="#{notaVentaController.notaVenta.cuotaInicialExtranjero}"
												style=" color: #555555; background-image: none; padding: 0 10px;"
												styleClass="input-sm form-control">
												<f:convertNumber type="number" groupingUsed="true"
													minFractionDigits="2" pattern="#0.00" />
												<p:ajax event="change" update="formModalPlanPago,form001"
													listener="#{notaVentaController.actionReloadPlanPago()}" />
											</p:inputText>
										</div>
									</div>
								</div>
								<div class="col-md-4">
									<div class="form-group ">
										<div class="col-md-5">Porc. Inicial</div>
										<div class="col-md-7">
											<p:spinner stepFactor="0.1" prefix="%" min="0" max="100"
												value="#{notaVentaController.notaVenta.porcentajeCuotaInicial}"
												style=" color: #555555; background-image: none; padding: 0 10px;">
												<p:ajax event="change" update="formModalPlanPago"
													listener="#{notaVentaController.actionReloadPlanPago()}" />
											</p:spinner>
										</div>
									</div>
								</div>
								<div class="col-md-4">
									<div class="form-group ">
										<div class="col-md-4" style="padding-right: 0px;">Fecha
											Incial</div>
										<div class="col-md-5">
											<p:calendar id="fechaInicial"
												value="#{notaVentaController.notaVenta.fechaPagoInicial}"
												locale="es" styleClass="myWid100" required="true"
												requiredMessage="Fecha requerido" pattern="dd/MM/yyyy">
												<p:ajax event="change" update="formModalPlanPago"
													listener="#{notaVentaController.actionReloadPlanPago()}" />
												<p:ajax event="dateSelect" update="formModalPlanPago"
													listener="#{notaVentaController.actionReloadPlanPago()}" />
											</p:calendar>
										</div>

										<div class="col-md-3"
											style="padding-left: 0px; padding-right: 0px;">
											<p:spinner min="1" max="31"
												disabled="#{!notaVentaController.notaVenta.formaPago.equals('MENSUAL')}"
												value="#{notaVentaController.diaPago}"
												style=" color: #555555; background-image: none; padding: 0 10px;">
												<p:ajax event="change" update="formModalPlanPago"
													listener="#{notaVentaController.actionReloadPlanPago()}" />
											</p:spinner>
										</div>
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col-md-3"></div>
								<div class="col-md-3"></div>
								<div class="col-md-3"></div>
								<div class="col-md-3">
									<div class="col-md-9">Cuota Mes Actual</div>
									<div class="col-md-3">
										<div class="actions">
											<label class="switch switch-success switch-sm"> <h:selectBooleanCheckbox
													id="check01" value="#{notaVentaController.cuotaMesActual}"
													styleClass="switch">
													<p:ajax update="check01,dataTablePlanPago"
														listener="#{notaVentaController.changeCuotaMesActual()}" />
												</h:selectBooleanCheckbox> <span class="switch"></span>
											</label>
										</div>
									</div>
								</div>
							</div>
							<br />
							<div class="row">
								<div class="col-md-12">
									<p:dataTable id="dataTablePlanPago" var="item" rendered="true"
										scrollHeight="180" scrollable="true"
										value="#{notaVentaController.listPlanPago}" reflow="true"
										style="padding-left: 10px !important; padding-right: 10px !important; font-size: 12px !important; line-height: 1.33846154 !important; font-family: sans-serif !important;"
										rowKey="#{item.id}" emptyMessage="No se encontraron registros">

										<f:facet name="header">
											Detalle Pagos
										</f:facet>

										<p:column headerText="Nº Cuota" width="25%"
											style="text-align:center;">
											<h:outputText value="#{item.numeroPago}" />
										</p:column>
										<p:column headerText="Fecha" width="25%"
											style="text-align:center;">
											<h:outputText value="#{item.fechaPago}">
												<f:convertDateTime pattern="dd/MM/yyyy" />
											</h:outputText>
										</p:column>
										<p:column headerText="Interes Mensual" width="25%"
											style="text-align:center;" rendered="false">
											<h:outputText
												rendered="#{notaVentaController.notaVenta.moneda.equals('BOLIVIANOS')}"
												value="#{item.interesMensual}">
												<f:convertNumber type="number" groupingUsed="true"
													minFractionDigits="2" pattern="#0.00" />
											</h:outputText>
											<h:outputText
												rendered="#{notaVentaController.notaVenta.moneda.equals('DOLAR')}"
												value="#{item.interesMensualExtranjero}">
												<f:convertNumber type="number" groupingUsed="true"
													minFractionDigits="2" pattern="#0.00" />
											</h:outputText>
											<span class="label label-success"> <p:outputLabel
													value=" $us."
													rendered="#{notaVentaController.notaVenta.moneda.equals('DOLAR')}" />
												<p:outputLabel value=" Bs."
													rendered="#{notaVentaController.notaVenta.moneda.equals('BOLIVIANOS')}" />
											</span>
										</p:column>
										<p:column headerText="Monto" width="25%"
											style="text-align:center;">
											<h:outputText
												rendered="#{notaVentaController.notaVenta.moneda.equals('BOLIVIANOS')}"
												value="#{item.montoNacional}">
												<f:convertNumber type="number" groupingUsed="true"
													minFractionDigits="2" pattern="#0.00" />
											</h:outputText>
											<h:outputText
												rendered="#{notaVentaController.notaVenta.moneda.equals('DOLAR')}"
												value="#{item.montoExtranjero}">
												<f:convertNumber type="number" groupingUsed="true"
													minFractionDigits="2" pattern="#0.00" />
											</h:outputText>
											<span class="label label-success"> <p:outputLabel
													value=" $us."
													rendered="#{notaVentaController.notaVenta.moneda.equals('DOLAR')}" />
												<p:outputLabel value=" Bs."
													rendered="#{notaVentaController.notaVenta.moneda.equals('BOLIVIANOS')}" />
											</span>
										</p:column>

									</p:dataTable>
								</div>
							</div>
							
							<div class="row">
								<div class="col-md-3">.</div>
								<div class="col-md-4">.</div>
								<div class="col-md-5">
									<div class="form-group ">
										<div class="col-md-6">
											<ui:fragment rendered="#{notaVentaController.notaVenta.moneda.equals('BOLIVIANOS')}">
												<strong>Subtotal Bs.</strong>
											</ui:fragment>
											<ui:fragment rendered="#{notaVentaController.notaVenta.moneda.equals('DOLAR')}">
												<strong>Subtotal $us.</strong>
											</ui:fragment>
										</div>
										<div class="col-md-6">
											<h:outputText
												rendered="#{notaVentaController.notaVenta.moneda.equals('BOLIVIANOS')}"
												value="#{notaVentaController.backTotalAmountNational}">
												<f:convertNumber type="number" groupingUsed="true"
													minFractionDigits="2" pattern="#0.00" />
											</h:outputText>
											<h:outputText
												rendered="#{notaVentaController.notaVenta.moneda.equals('DOLAR')}"
												value="#{notaVentaController.backTotalAmountForeign}">
												<f:convertNumber type="number" groupingUsed="true"
													minFractionDigits="2" pattern="#0.00" />
											</h:outputText>
										</div>
									</div>
								</div>
							</div>
							<div class="row" >
								<div class="col-md-3">.</div>
								<div class="col-md-4">.</div>
								<div class="col-md-5" >
									<div class="form-group" >
										<div class="col-md-6">
											<ui:fragment rendered="#{notaVentaController.notaVenta.moneda.equals('BOLIVIANOS')}">
												<strong>Pago Inicial Bs.</strong>
											</ui:fragment>
											<ui:fragment rendered="#{notaVentaController.notaVenta.moneda.equals('DOLAR')}">
												<strong>Pago Inicial $us.</strong>
											</ui:fragment>
										</div>
										<div class="col-md-6">
											<h:outputText
												rendered="#{notaVentaController.notaVenta.moneda.equals('BOLIVIANOS')}"
												value="#{notaVentaController.notaVenta.cuotaInicial}">
												<f:convertNumber type="number" groupingUsed="true"
													minFractionDigits="2" pattern="#0.00" />
											</h:outputText>
											<h:outputText
												rendered="#{notaVentaController.notaVenta.moneda.equals('DOLAR')}"
												value="#{notaVentaController.notaVenta.cuotaInicialExtranjero}">
												<f:convertNumber type="number" groupingUsed="true"
													minFractionDigits="2" pattern="#0.00" />
											</h:outputText>
										</div>
										<div class="col-md-12" style="border-bottom: 2px solid #cccccc; width: 250px"></div>
									</div>
									
								</div>
							</div>
							<div class="row">
								<div class="col-md-3">.</div>
								<div class="col-md-4">.</div>
								<div class="col-md-5">
									<div class="form-group ">
										<div class="col-md-6">
											<ui:fragment rendered="#{notaVentaController.notaVenta.moneda.equals('BOLIVIANOS')}">
												<strong>Monto a Financiar Bs.</strong>
											</ui:fragment>
											<ui:fragment rendered="#{notaVentaController.notaVenta.moneda.equals('DOLAR')}">
												<strong>Monto a Financiar $us.</strong>
											</ui:fragment>
										</div>
										<div class="col-md-6">
											<h:outputText
												rendered="#{notaVentaController.notaVenta.moneda.equals('BOLIVIANOS')}"
												value="#{notaVentaController.backTotalAmountNational - notaVentaController.notaVenta.cuotaInicial}">
												<f:convertNumber type="number" groupingUsed="true"
													minFractionDigits="2" pattern="#0.00" />
											</h:outputText>
											<h:outputText
												rendered="#{notaVentaController.notaVenta.moneda.equals('DOLAR')}"
												value="#{notaVentaController.backTotalAmountForeign - notaVentaController.notaVenta.cuotaInicialExtranjero}">
												<f:convertNumber type="number" groupingUsed="true"
													minFractionDigits="2" pattern="#0.00" />
											</h:outputText>
										</div>
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col-md-3">.</div>
								<div class="col-md-4">.</div>
								<div class="col-md-5">
									<div class="form-group ">
										<div class="col-md-6">
											<ui:fragment rendered="#{notaVentaController.notaVenta.moneda.equals('BOLIVIANOS')}">
												<strong>Interes a pagar Bs.</strong>
											</ui:fragment>
											<ui:fragment rendered="#{notaVentaController.notaVenta.moneda.equals('DOLAR')}">
												<strong>Interes a pagar $us.</strong>
											</ui:fragment>
										</div>
										<div class="col-md-6">
											<h:outputText
												rendered="#{notaVentaController.notaVenta.moneda.equals('BOLIVIANOS')}"
												value="#{notaVentaController.montoInteresNacional}">
												<f:convertNumber type="number" groupingUsed="true"
													minFractionDigits="2" pattern="#0.00" />
											</h:outputText>
											<h:outputText
												rendered="#{notaVentaController.notaVenta.moneda.equals('DOLAR')}"
												value="#{notaVentaController.montoInteresExtranjero}">
												<f:convertNumber type="number" groupingUsed="true"
													minFractionDigits="2" pattern="#0.00" />
											</h:outputText>
										</div>
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col-md-3">.</div>
								<div class="col-md-4">.</div>
								<div class="col-md-5">
									<div class="form-group ">
										<div class="col-md-6">
											<ui:fragment rendered="#{notaVentaController.notaVenta.moneda.equals('BOLIVIANOS')}">
												<strong>Plan Pago Bs.</strong>
											</ui:fragment>
											<ui:fragment rendered="#{notaVentaController.notaVenta.moneda.equals('DOLAR')}">
												<strong>Plan Pago $us.</strong>
											</ui:fragment>
										</div>
										<div class="col-md-6">
											<h:outputText
												rendered="#{notaVentaController.notaVenta.moneda.equals('BOLIVIANOS')}"
												value="#{notaVentaController.totalPlanPagoNacional}">
												<f:convertNumber type="number" groupingUsed="true"
													minFractionDigits="2" pattern="#0.00" />
											</h:outputText>
											<h:outputText
												rendered="#{notaVentaController.notaVenta.moneda.equals('DOLAR')}"
												value="#{notaVentaController.totalPlanPagoExtranjero}">
												<f:convertNumber type="number" groupingUsed="true"
													minFractionDigits="2" pattern="#0.00" />
											</h:outputText>
										</div>
									</div>
								</div>
							</div>
							<!-- END BODY -->
						</div>
						<div class="modal-footer">
							<!-- INIT FOOTER -->
							<div class="row">
								<div class="col-md-4"></div>
								<div class="col-md-4"></div>
								<div class="col-md-4">
									<p:commandLink id="buttonCancelar01" value="&#160; Cerrar"
										styleClass="btn btn-warning btn-block ion-minus-circled"
										immediate="true" style="height:31px; padding:center" >
										<p:ajax update="form001" listener="#{notaVentaController.closeModalPlanPago()}" />
									</p:commandLink>
								</div>
							</div>
							<!-- END FOOTER -->
						</div>
					</h:form>
				</div>
			</div>
		</div>

		<div id="m-r-2" data-keyboard="false" data-backdrop="static"
			aria-hidden="true" class="modal fade">
			<div class="modal-dialog">
				<div class="modal-content">
					<h:form id="formModalCliente">
						<div class="modal-header">
							<!-- INIT HEADER -->
							<h4 id="myModalLabel" class="modal-title">
								<strong>REGISTRO NUEVO CLIENTE</strong>
							</h4>
							<!-- END HEADER -->
						</div>
						<div class="modal-body">
							<!-- INIT BODY -->
								<div class="row">
									<div class="col-md-12">
										<div class="form-group ">
											<div class="col-md-5">Nit/Ci</div>
											<div class="col-md-7">
												<h:inputText value="#{notaVentaController.newCliente.nit}"
													style=" color: #555555; background-image: none;"
													styleClass="input-sm form-control ">
													<p:ajax event="change" />
												</h:inputText>
											</div>
										</div>
									</div>
								</div>
								<br />
								<div class="row">
									<div class="col-md-12">
										<div class="form-group ">
											<div class="col-md-5">Razon Social</div>
											<div class="col-md-7">
												<h:inputText
													value="#{notaVentaController.newCliente.razonSocial}"
													style=" color: #555555; background-image: none;"
													styleClass="input-sm form-control ">
													<p:ajax event="change" />
												</h:inputText>
											</div>
										</div>
									</div>
								</div>
								<br />
								<div class="row">
									<div class="col-md-12">
										<div class="form-group ">
											<div class="col-md-5">Celular 1</div>
											<div class="col-md-7">
												<h:inputText
													value="#{notaVentaController.newCliente.celular1}"
													style=" color: #555555; background-image: none;"
													styleClass="input-sm form-control">
													<p:ajax event="change" />
												</h:inputText>
											</div>
										</div>
									</div>
								</div>
								<br />
								<div class="row">
									<div class="col-md-12">
										<div class="form-group ">
											<div class="col-md-5">Celular 2</div>
											<div class="col-md-7">
												<h:inputText
													value="#{notaVentaController.newCliente.celular2}"
													style=" color: #555555; background-image: none;"
													styleClass="input-sm form-control">
													<p:ajax event="change" />
												</h:inputText>
											</div>
										</div>
									</div>
								</div>
							<br />
							<div class="row">
								<div class="col-md-12">
									<div class="form-group ">
										<div class="col-md-5">Telefono</div>
										<div class="col-md-7">
											<h:inputText
												value="#{notaVentaController.newCliente.telefono}"
												style=" color: #555555; background-image: none;"
												styleClass="input-sm form-control">
												<p:ajax event="change" />
											</h:inputText>
										</div>
									</div>
								</div>
							</div>
							<br />
							<div class="row">
								<div class="col-md-12">
									<div class="form-group ">
										<div class="col-md-5">Correo</div>
										<div class="col-md-7">
											<h:inputText value="#{notaVentaController.newCliente.correo}"
												style=" color: #555555; background-image: none;"
												styleClass="input-sm form-control">
												<p:ajax event="change" />
											</h:inputText>
										</div>
									</div>
								</div>
							</div>
							<br />
							<div class="row">
								<div class="col-md-12">
									<div class="form-group ">
										<div class="col-md-5">Dirección</div>
										<div class="col-md-7">
											<p:inputTextarea id="descripcionID" style="padding: 0 10px;"
												styleClass="form-control" size="40"
												value="#{notaVentaController.newCliente.direccion}"
												maxlength="250" rows="2">
												<p:ajax event="change" />
											</p:inputTextarea>
										</div>
									</div>
								</div>
							</div>
							
							<br />

							<!-- END BODY -->
						</div>
						<div class="modal-footer">
							<!-- INIT FOOTER -->
							<div class="row">
								<div class="col-md-4"></div>
								<div class="col-md-4">
									<p:commandLink id="buttonCancelar01" value="&#160; Cancelar"
										styleClass="btn btn-warning btn-block ion-minus-circled"
										update="form001" immediate="true"
										style="height:31px; padding:center"
										actionListener="#{notaVentaController.closeModalCliente()}">
									</p:commandLink>
								</div>
								<div class="col-md-4">
									<p:commandLink id="buttonRegistrar01" value="&#160; Registrar"
										styleClass="btn btn-success btn-block ion-checkmark"
										style="height:31px; padding:center" immediate="true">
										<p:ajax update="form001"
											listener="#{notaVentaController.registrarCliente()}" />
									</p:commandLink>
								</div>
							</div>
							<!-- END FOOTER -->
						</div>
					</h:form>
				</div>
			</div>
		</div>

		<div id="m-r-3" tabindex="-1" role="dialog" data-keyboard="false"
			data-backdrop="static" aria-labelledby="myModalLabel"
			aria-hidden="true" class="modal fade">
			<div class="modal-dialog">
				<div class="modal-content">
					<h:form id="formModalModificarProducto">
						<div class="modal-header">
							<!-- INIT HEADER -->
							<ui:fragment rendered="false">
								<!-- false, hide button close  -->
								<button type="button" data-dismiss="modal" class="close">
									<span aria-hidden="true">x</span><span class="sr-only">Cerrar</span>
								</button>
							</ui:fragment>
							<h4 id="myModalLabel" class="modal-title">
								<strong>MODIFICAR PRODUCTO</strong>
							</h4>
							<!-- END HEADER -->
						</div>
						<div class="modal-body">
							<!-- INIT BODY -->

							<div class="row">
								<div class="col-md-12">
									<div class="form-group ">
										<div class="col-md-6">Producto</div>
										<div class="col-md-6">
											<h:inputText id="productName1"
												value="#{notaVentaController.selectedProducto.nombre}"
												style=" color: #555555; background-image: none;"
												styleClass="input-sm form-control" disabled="true">
											</h:inputText>
											<p:autoComplete id="nombreProducto2" style="width: 100%" rendered="false"
												inputStyle="width: 100%; color: #555555; background-image: none; padding: 4px 10px;"
												value="#{notaVentaController.selectedProducto.nombre}"
												completeMethod="#{notaVentaController.completeProducto}"
												minQueryLength="1" required="true"
												requiredMessage="Nombre Producto Requerido."
												forceSelection="true" var="_var" itemLabel="#{_var}"
												itemValue="#{_var.nombre}" placeholder="Escriba Producto "
												maxResults="10">

												<p:ajax event="itemSelect" update="nombreProducto2"
													listener="#{notaVentaController.onRowSelectProductoClick}" />

												<p:column>
													<h:outputText value="#{_var.codigo}" />
												</p:column>
												<p:column>
													<h:outputText value="#{_var.nombre}" />
												</p:column>
												<p:column>
													<h:outputText value="#{_var.descripcion}" />
												</p:column>

											</p:autoComplete>
										</div>
									</div>
								</div>
							</div>
							<br />
							<div class="row">
								<div class="col-md-12">
									<div class="form-group">
										<div class="col-md-6">Precio Venta</div>
										<div class="col-md-6">
											<h:inputText id="precioUnitarioID1"
												rendered="#{notaVentaController.notaVenta.tipoVenta.equals('CREDITO')}"
												value="#{notaVentaController.selectedDetalleNotaVenta.precioExtranjero}"
												style=" color: #555555; background-image: none;"
												styleClass="input-sm form-control" disabled="false">
												<p:ajax event="change" update="formModalModificarProducto"
													listener="#{notaVentaController.updateImporte()}" />
											</h:inputText>
											<h:inputText id="precioUnitarioExtranjeroID2"
												rendered="#{notaVentaController.notaVenta.tipoVenta.equals('CONTADO')}"
												value="#{notaVentaController.selectedDetalleNotaVenta.precioContadoExtranjero}"
												style=" color: #555555; background-image: none;"
												styleClass="input-sm form-control" disabled="false">
												<p:ajax event="change" update="formModalModificarProducto"
													listener="#{notaVentaController.updateImporte()}" />
											</h:inputText>
										</div>
									</div>
								</div>
							</div>
							<br />
							<div class="row">
								<div class="col-md-12">
									<div class="form-group">
										<div class="col-md-6">Cantidad</div>
										<div class="col-md-6">
											<h:inputText id="cantidadProductoID2"
												value="#{notaVentaController.selectedDetalleNotaVenta.cantidad}"
												style=" color: #555555; background-image: none;"
												styleClass="input-sm form-control">
												<p:ajax event="keyup" update="importeExtranjeroID2"
													listener="#{notaVentaController.updateImporte()}" />
											</h:inputText>
										</div>
									</div>
								</div>
							</div>
							<br />
							<div class="row">
								<div class="col-md-12">
									<div class="form-group">
										<div class="col-md-6">Importe</div>
										<div class="col-md-6">
											<h:inputText id="importeExtranjeroID2"
												value="#{notaVentaController.importeParcialDetalleNotaVenta}"
												style=" color: #555555; background-image: none;"
												styleClass="input-sm form-control" readonly="true">
											</h:inputText>
										</div>
									</div>
								</div>
							</div>
							<!-- END BODY -->
						</div>
						<div class="modal-footer">
							<!-- INIT FOOTER -->
							<div class="row">
								<div class="col-md-4"></div>
								<div class="col-md-4">
									<p:commandLink id="buttonCancelar03" value="&#160; Cancelar"
										styleClass="btn btn-warning btn-block ion-minus-circled"
										update="form001" immediate="true"
										style="height:31px; padding:center"
										actionListener="#{notaVentaController.actionCancelarModificarProducto()}">
									</p:commandLink>
								</div>
								<div class="col-md-4">
									<p:commandLink id="buttonRegistrar03" value="&#160; Modificar"
										styleClass="btn btn-success btn-block ion-checkmark"
										update="form001" style="height:31px; padding:center"
										immediate="true"
										action="#{notaVentaController.modificarDetalleNotaVenta()}">
									</p:commandLink>
								</div>
							</div>
							<!-- END FOOTER -->
						</div>
					</h:form>
				</div>
			</div>
		</div>
		<div id="m-r-4" tabindex="-1" role="dialog" data-keyboard="false"
			data-backdrop="static" aria-labelledby="myModalLabel"
			aria-hidden="true" class="modal fade">
			<div class="modal-dialog">
				<div class="modal-content">
					<h:form id="formModalPago">
						<div class="modal-header">
							<!-- INIT HEADER -->
							<h4 id="myModalLabel" class="modal-title">
								<strong>PAGO - CLIENTE</strong>
							</h4>
							<!-- END HEADER -->
						</div>
						<div class="modal-body">
							<!-- INIT BODY -->
							<ui:fragment
								rendered="#{notaVentaController.notaVenta.tipoVenta.equals('CREDITO')}">
								<div class="row">
									<div class="col-md-12">
										<div class="form-group">
											<div class="col-md-5">Observación</div>
											<div class="col-md-7">
												<p:inputTextarea id="observacionAmortizacion"
													style="padding: 0 10px;" styleClass="form-control"
													size="40" value="#{notaVentaController.observacion}"
													maxlength="250" rows="3">
													<p:ajax event="change" />
												</p:inputTextarea>
											</div>
										</div>
									</div>
								</div>
								<br />
							</ui:fragment>
							<div class="row">
								<div class="col-md-12">
									<div class="form-group">
										<div class="col-md-5">Total Importe Venta</div>
										<div class="col-md-7">
											<h:inputText id="totalImporteVenta1"
												rendered="#{notaVentaController.notaVenta.moneda.equals('BOLIVIANOS')}"
												value="#{notaVentaController.notaVenta.montoTotal}"
												style=" color: #555555; background-image: none;"
												readonly="true" styleClass="input-sm form-control"
												disabled="false">
												<f:convertNumber type="number" groupingUsed="true"
													minFractionDigits="2" pattern="#0.00" />
											</h:inputText>
											<h:inputText id="totalImporteVenta2"
												rendered="#{notaVentaController.notaVenta.moneda.equals('DOLAR')}"
												value="#{notaVentaController.notaVenta.montoTotalExtranjero}"
												style=" color: #555555; background-image: none;"
												readonly="true" styleClass="input-sm form-control"
												disabled="false">
												<f:convertNumber type="number" groupingUsed="true"
													minFractionDigits="2" pattern="#0.00" />
											</h:inputText>
										</div>
									</div>
								</div>
							</div>
							<br />
							<ui:fragment
								rendered="#{notaVentaController.notaVenta.tipoVenta.equals('CREDITO')}">
							<div class="row">
								<div class="col-md-12">
									<div class="form-group ">
										<div class="col-md-5">Saldo a Financiar</div>
										<div class="col-md-7">
											<h:inputText readonly="true"
												styleClass="input-sm form-control"
												rendered="#{notaVentaController.notaVenta.moneda.equals('BOLIVIANOS')}"
												style=" color: #555555; background-image: none;"
												value="#{notaVentaController.totalPlanPagoNacional}">
												<f:convertNumber type="number" groupingUsed="true"
													minFractionDigits="2" pattern="#0.00" />
											</h:inputText>
											<h:inputText readonly="true"
												styleClass="input-sm form-control"
												rendered="#{notaVentaController.notaVenta.moneda.equals('DOLAR')}"
												style=" color: #555555; background-image: none;"
												value="#{notaVentaController.totalPlanPagoExtranjero}">
												<f:convertNumber type="number" groupingUsed="true"
													minFractionDigits="2" pattern="#0.00" />
											</h:inputText>
										</div>
									</div>
								</div>
							</div>
							<br />
							</ui:fragment>
							<ui:fragment
								rendered="#{notaVentaController.notaVenta.tipoVenta.equals('CREDITO')}">
							<div class="row">
								<div class="col-md-12">
									<div class="form-group">
										<div class="col-md-5">Total Cuota Inicial</div>
										<div class="col-md-7">
											<h:inputText id="totalCuotaInicial1"
												rendered="#{notaVentaController.notaVenta.moneda.equals('BOLIVIANOS')}"
												value="#{notaVentaController.notaVenta.cuotaInicial}"
												style=" color: #555555; background-image: none;"
												readonly="true" styleClass="input-sm form-control"
												disabled="false">
												<f:convertNumber type="number" groupingUsed="true"
													minFractionDigits="2" pattern="#0.00" />
											</h:inputText>
											<h:inputText id="totalCuotaInicial2"
												rendered="#{notaVentaController.notaVenta.moneda.equals('DOLAR')}"
												value="#{notaVentaController.notaVenta.cuotaInicialExtranjero}"
												style=" color: #555555; background-image: none;"
												readonly="true" styleClass="input-sm form-control"
												disabled="false">
												<f:convertNumber type="number" groupingUsed="true"
													minFractionDigits="2" pattern="#0.00" />
											</h:inputText>
										</div>
									</div>
								</div>
							</div>
							<br />
							</ui:fragment>
							<div class="row">
								<div class="col-md-12">
									<div class="form-group">
										<div class="col-md-5">Pago</div>
										<div class="col-md-7">
											<h:inputText id="pago1"
												rendered="#{notaVentaController.notaVenta.moneda.equals('BOLIVIANOS')}"
												value="#{notaVentaController.pagoNacional}"
												style=" color: #555555; background-image: none;"
												onclick="selectAll('formModalPago:pago1')"
												styleClass="input-sm form-control">
												<p:ajax event="keyup" update="formModalPago:cambio1"
													listener="#{notaVentaController.calcularCambio()}" />
												<f:convertNumber type="number" groupingUsed="true"
													minFractionDigits="2" pattern="#0.00" />
											</h:inputText>
											<h:inputText id="pago2"
												rendered="#{notaVentaController.notaVenta.moneda.equals('DOLAR')}"
												value="#{notaVentaController.pagoExtranjero}"
												style=" color: #555555; background-image: none;"
												onclick="selectAll('formModalPago:pago2')"
												styleClass="input-sm form-control">
												<p:ajax event="keyup" update="formModalPago:cambio2"
													listener="#{notaVentaController.calcularCambio()}" />
												<f:convertNumber type="number" groupingUsed="true"
													minFractionDigits="2" pattern="#0.00" />
											</h:inputText>
										</div>
									</div>
								</div>
							</div>
							<br />
							<div class="row">
								<div class="col-md-12">
									<div class="form-group">
										<div class="col-md-5">Cambio</div>
										<div class="col-md-7">
											<h:inputText id="cambio1"
												rendered="#{notaVentaController.notaVenta.moneda.equals('BOLIVIANOS')}"
												value="#{notaVentaController.cambioNacional}"
												style=" color: #555555; background-image: none;"
												readonly="true" styleClass="input-sm form-control">
												<f:convertNumber type="number" groupingUsed="true"
													minFractionDigits="2" pattern="#0.00" />
											</h:inputText>
											<h:inputText id="cambio2"
												rendered="#{notaVentaController.notaVenta.moneda.equals('DOLAR')}"
												value="#{notaVentaController.cambioExtranjero}"
												style=" color: #555555; background-image: none;"
												readonly="true" styleClass="input-sm form-control">
												<f:convertNumber type="number" groupingUsed="true"
													minFractionDigits="2" pattern="#0.00" />
											</h:inputText>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="modal-footer">
							<!-- INIT FOOTER -->
							<div class="row">
								<div class="col-md-4"></div>
								<div class="col-md-4">
									<p:commandLink id="buttonCancelar03" value="&#160; Cancelar"
										styleClass="btn btn-warning btn-block ion-minus-circled"
										update="form001" immediate="true"
										style="height:31px; padding:center"
										actionListener="#{notaVentaController.closeModalPago()}">
									</p:commandLink>
								</div>
								<div class="col-md-4">
									<p:commandLink id="buttonRegistrar03" value="&#160; Registrar"
										styleClass="btn btn-success btn-block ion-checkmark"
										update="form001" style="height:31px; padding:center"
										immediate="true" rendered="#{!notaVentaController.pendingQuotation}"
										action="#{notaVentaController.registrarNotaVenta()}">
									</p:commandLink>
									<p:commandLink id="buttonRegistrar003" value="&#160; Registrar"
										styleClass="btn btn-success btn-block ion-checkmark"
										update="form001" style="height:31px; padding:center"
										immediate="true" rendered="#{notaVentaController.pendingQuotation}"
										action="#{notaVentaController.updateNotaVenta()}">
									</p:commandLink>
								</div>
							</div>
							<!-- END FOOTER -->
						</div>
					</h:form>
				</div>
			</div>
		</div>
		<!-- END MODAL -->
		<!-- BEGIN MODAL -->
		<div id="m-r-5" tabindex="-1" role="dialog" data-keyboard="false"
			data-backdrop="static" aria-labelledby="myModalLabel"
			aria-hidden="true" class="modal fade">
			<div class="modal-dialog">
				<div class="modal-content">
					<h:form id="formModalImprimir">
						<div class="modal-header">
							<!-- INIT HEADER -->
							<h4 id="myModalLabel" class="modal-title">
								<strong>REEMPRIMIR - DOCUMENTOS</strong>
							</h4>
							<!-- END HEADER -->
						</div>
						<div class="modal-body">
							<!-- INIT BODY -->
							<ui:fragment rendered="#{notaVentaController.notaVenta.tipoVenta.equals('CREDITO')}">
								<div class="row">
									<div class="col-md-12">
										<div class="form-group">
											<p:tabView>
											<p:tab title="Recibo Amortización"
												rendered="#{notaVentaController.urlReciboAmortizacion.length()!=0}">
												<div class="row">
													<div class="col-md-12">
														<p:media player="pdf" rendered="true"
															value="#{notaVentaController.urlReciboAmortizacion}"
															width="800px" height="800px" />
													</div>
												</div>
											</p:tab>
											<p:tab title="Proforma Credito"
												rendered="#{notaVentaController.urlProformaAlCredito.length()!=0}">
												<div class="row">
													<div class="col-md-12">
														<p:media player="pdf" rendered="true"
															value="#{notaVentaController.urlProformaAlCredito}"
															width="800px" height="800px" />
													</div>
												</div>
											</p:tab>
										</p:tabView>
										</div>
									</div>
								</div>
							</ui:fragment>
							<ui:fragment rendered="#{notaVentaController.notaVenta.tipoVenta.equals('CONTADO')}">
								<div class="row">
									<div class="col-md-12">
										<div class="form-group">
											<div class="col-md-5">Print CONTADO</div>
											<div class="col-md-7">
											</div>
										</div>
									</div>
								</div>
							</ui:fragment>
						</div>
						<div class="modal-footer">
							<!-- INIT FOOTER -->
							<div class="row">
								<div class="col-md-4"></div>
								<div class="col-md-4"></div>
								<div class="col-md-4">
									<p:commandLink id="buttonCancelar004" value="&#160; Cerrar"
										styleClass="btn btn-warning btn-block ion-minus-circled"
										update="form001" immediate="true"
										style="height:31px; padding:center"
										actionListener="#{notaVentaController.closeModalPrint()}">
									</p:commandLink>
								</div>
							</div>
							<!-- END FOOTER -->
						</div>
					</h:form>
				</div>
			</div>
		</div>
		<!-- END MODAL -->

		<!-- DIALOG CAMERA-->
		<p:dialog header="TOMAR FOTO" widgetVar="dlgphotoCam" modal="true"
			width="27%" height="100%" rendered="false">
			<h:form id="formphotoCam">
				<p:focus context="formphotoCam" />
				<div class="row">
					<div class="col-md-12">
						<p:photoCam widgetVar="pc"
							listener="#{clienteController.oncapture}" update="form001" />
						<p:commandLink value="&#160; Capturar"
							styleClass="btn btn-success ion-camera"
							onclick="PF('pc').capture()">
						</p:commandLink>
					</div>
				</div>

			</h:form>
		</p:dialog>
		<p:dialog header="Validación de Stock" widgetVar="dlgpValidationStock" modal="true"
			width="27%" height="100%" closable="true">
			<div class="row">
				<div class="col-md-12">
					<p:outputLabel value="Producto sin stock"/>
				</div>
			</div>
		</p:dialog>
		
		<p:dialog header="Validación de Stock" widgetVar="dlgpValidationStockMinimo" modal="true"
			width="27%" height="100%" closable="true">
			<div class="row">
				<div class="col-md-12">
					<p:outputLabel value="Producto no tiene la cantidad necesaria de stock"/>
				</div>
			</div>
		</p:dialog>
		<script>
 
	    function selectAll(id){
	        document.getElementById(id).focus();
	        document.getElementById(id).select();
	    }

        function printDiv(divName){
            var printContents = document.getElementById(divName).innerHTML;
            var originalContents = document.body.innerHTML;

            document.body.innerHTML = printContents;
            window.print();
            document.body.innerHTML = originalContents;
        }
        
    </script>
	</ui:define>
	<ui:insert name="scripts">
	
	</ui:insert>
</ui:composition>